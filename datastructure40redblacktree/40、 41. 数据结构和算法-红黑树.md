# <center>40.红黑树上<center>
@[TOC](数据结构和算法)

具体代码请看：**[NDKPractice项目的datastructure40redblacktree](https://github.com/EastUp/NDKPractice/tree/master/datastructure40redblacktree)**

# 知识点：



## 1. 红黑树的定义：

1. 每个节点或者是黑色，或者是红色。
2. 根节点是黑色。
3. 每个叶子节点（NIL）是黑色。 [注意：这里叶子节点，是指为空(NIL或NULL)的叶子节点！]
4. 如果一个节点是红色的，则它的子节点必须是黑色的。
5. 从一个节点到该节点的子孙节点的所有路径上包含相同数目的黑节点。

## 2. 新增逻辑：

1. 如果没有出现双红现象，父亲是黑色的不需要修正；
2. 叔叔是红色的 ，将叔叔和父亲染黑，然后爷爷染红；指针回到爷爷
3. 叔叔是黑色的，父亲是爷爷的左节点，且当前节点是其父节点的右孩子，将“父节点”作为“新的当前节点”，以“新的当前节点”为支点进行左旋。然后将“父节点”设为“黑色”，将“祖父节点”设为“红色”，以“祖父节点”为支点进行右旋；
4. 叔叔是黑色的，父亲是爷爷的左节点，且当前节点是其父节点的左孩子，将“父节点”设为“黑色”，将“祖父节点”设为“红色”，以“祖父节点”为支点进行右旋；
5. 叔叔是黑色的，父亲是爷爷的右节点，且当前节点是其父节点的左孩子，将“父节点”作为“新的当前节点”，以“新的当前节点”为支点进行右旋。然后将“父节点”设为“黑色”，将“祖父节点”设为“红色”，以“祖父节点”为支点进行左旋；
6. 叔叔是黑色的，父亲是爷爷的右节点，且当前节点是其父节点的右孩子，将“父节点”设为“黑色”，将“祖父节点”设为“红色”，以“祖父节点”为支点进行左旋；

以 [3,2,1,4,5] 为例

![](40.红黑树新增.png)


## 3.红黑树与 AVL 树的对比

AVL : 插入的思想，在插入的过程中不断去调整树，最坏的情况下可能每次回溯都需要调整（回溯到父亲节点）
红黑树：可能会出现双红现象，如果叔叔是黑色的只需要调整一次或者两次 ，最坏的情况下就是叔叔节点是红色，但每次回溯的时候是两层（回溯到爷爷节点）

新增：AVL 复杂度是 log(N)，红黑树复杂度是 Log(N) / 2
查找：AVL 复杂度是 log(N)，红黑树复杂度是 Log(2N)
删除：





















